{"version":3,"sources":["js/slider.js"],"names":["leftArrow","document","querySelector","rightArrow","slides","slidersWidth","offsetWidth","canMove","position","appendChild","cloneNode","slidesLength","querySelectorAll","length","next","moveTo","setTimeout","jumpTo","previous","newPosition","jump","style","transform","callback","window","requestAnimationFrame","transition","addEventListener","event","key"],"mappings":";AACA,IAAIA,EAAYC,SAASC,cAAc,wBACnCC,EAAaF,SAASC,cAAc,yBACpCE,EAASH,SAASC,cAAc,mBAChCG,EAAeD,EAAOE,YACtBC,GAAU,EACVC,EAAW,EAGfJ,EAAOK,YAAYL,EAAOF,cAAc,OAAOQ,aAC/C,IAAIC,EAAeP,EAAOQ,iBAAiB,kBAAkBC,OAqB7D,SAASC,IACJP,GAAWC,EAAWG,EAAe,IACtCI,EAAOP,EAAW,GAGdA,IAAaG,EAAe,GAC9BK,WAAW,WACTC,EAAO,IACN,MAKT,SAASC,IACJX,GAAWC,GAAY,IACP,IAAbA,EACFS,EAAON,EAAe,EAAG,WACvBI,EAAOP,EAAW,KAGpBO,EAAOP,EAAW,IAKxB,SAASO,EAAOI,EAAaC,GACtBA,IACHb,GAAU,EACVS,WAAW,WACTT,GAAU,GACT,MAGLC,EAAWW,EACXf,EAAOiB,MAAMC,UAAY,cAAgBd,GAAYH,EAAe,MAGtE,SAASY,EAAOE,EAAaI,GAC3BC,OAAOC,sBAAsB,WAC3BrB,EAAOiB,MAAMK,WAAa,OAC1BX,EAAOI,GAAa,GAEpBK,OAAOC,sBAAsB,WAC3BrB,EAAOiB,MAAMK,WAAa,kBAEtBH,GACFA,QAhERpB,EAAWwB,iBAAiB,QAASb,GAGrCd,EAAU2B,iBAAiB,QAAST,GAEpCM,OAAOG,iBAAiB,UAAW,SAASC,GACnCA,OAAAA,EAAMC,KACN,IAAA,YACHX,IACA,MACG,IAAA,aACHJ","file":"slider.5fdc806d.js","sourceRoot":"../src","sourcesContent":["// Get all elements one and for all\nvar leftArrow = document.querySelector('.slider__arrow--left'),\n    rightArrow = document.querySelector('.slider__arrow--right'),\n    slides = document.querySelector('.slider__slides'),\n    slidersWidth = slides.offsetWidth, // Size of the slider\n    canMove = true, // Boolean blocking the navigation during transitions\n    position = 0; // Where we are\n\n// Duplicate the first slide to the end for infinite effect\nslides.appendChild(slides.querySelector('img').cloneNode());\nvar slidesLength = slides.querySelectorAll('.slider__slide').length;\n\n// Go to next slide when clicking right arrow\nrightArrow.addEventListener('click', next);\n\n// Go to previous slide when clicking left arrow\nleftArrow.addEventListener('click', previous);\n\nwindow.addEventListener('keydown', function(event) {\n  switch(event.key) {\n    case 'ArrowLeft':\n      previous(); // Go to previous slide when hitting left key\n      break;\n    case 'ArrowRight':\n      next(); // Go to next slide when hitting right key\n      break;\n    default:\n      break;\n  }\n});\n\nfunction next() {\n  if(canMove && position < slidesLength - 1) {\n    moveTo(position + 1);\n   \n    // If the end is reached after the move\n    if (position === slidesLength - 1) {\n      setTimeout(function() {\n        jumpTo(0); // Jump back to the start\n      }, 300);\n    }\n  }\n}\n\nfunction previous() {\n  if(canMove && position >= 0){\n    if (position === 0) { // If we're at the start\n      jumpTo(slidesLength - 1, function() { // Jump to the end\n        moveTo(position - 1); // Then move to the previous slide\n      });\n    } else {\n      moveTo(position - 1);\n    }\n  }\n}\n\nfunction moveTo(newPosition, jump) {\n  if (!jump) { // Block the navigation for the duration of the transition (except when juming)\n    canMove = false;\n    setTimeout(function() {\n      canMove = true;\n    }, 300);\n  }\n  \n  position = newPosition; // Update the position\n  slides.style.transform = 'translateX(' + position * -slidersWidth + 'px)'; // Update the style\n};\n\nfunction jumpTo(newPosition, callback) {\n  window.requestAnimationFrame(function() { // Wait for the next frame\n    slides.style.transition = 'none'; // Cancel transition\n    moveTo(newPosition, true); // Jump to the new position\n\n    window.requestAnimationFrame(function() { // Wait for the next frame\n      slides.style.transition = 'transform 300ms'; // Reset transition\n      \n      if (callback) { // Call callback if any\n        callback();\n      }\n    });\n  });\n}"]}